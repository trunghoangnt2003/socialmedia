@{
    Layout = "_EmptyLayout";
}

<div class="d-flex justify-content-center align-items-center vh-100">
    <div class="card shadow p-4" style="width: 400px;">
        <h2 class="text-center">Forgot Password?</h2>
        <p class="text-center">Enter your email to reset your password.</p>

        @if (ViewBag.Error != null)
        {
                <div class="alert alert-danger text-center">@ViewBag.Error</div>
        }

        @if (ViewBag.Success != null)
        {
                <div class="alert alert-success text-center">@ViewBag.Success</div>
        }
      
        <form id="resetPasswordForm" method="post" asp-controller="ForgotPassword">
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" class="form-control shadow-sm" required placeholder="Enter your email" />
            </div>
            @if (ViewBag.EmailFail != null)
            {
                <div class="text-danger fs-5 fw-bold" >@ViewBag.EmailFail</div>
            }
            <button type="submit"  class="btn btn-primary w-100 mt-3">Submit</button>
        </form>
        
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
@if (ViewBag.Success == true)
{
    <script>

        Swal.fire({
        title: "Please check your email to confirm!",
        icon: "success",
        showConfirmButton: false,
        timer: 2000,
        didClose: () => {
        document.getElementById("resetPasswordForm").submit();
        }
        });
    </script>
}
